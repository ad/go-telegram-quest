# Telegram Quest Bot

Telegram-ะฑะพั ะดะปั ะฟัะพะฒะตะดะตะฝะธั ะปะธะฝะตะนะฝัั ะบะฒะตััะพะฒ ั ะฟะพะปะฝะพะน ะฟะตััะธััะตะฝัะฝะพัััั ัะพััะพัะฝะธั. ะะพั ะฝะต ัะตััะตั ะฟัะพะณัะตัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะฟัะธ ัะตััะฐััะต, ะฐะดะผะธะฝะธัััะฐัะพั ะผะพะถะตั ัะฟัะฐะฒะปััั ัะฐะณะฐะผะธ ะบะฒะตััะฐ ะฒะพ ะฒัะตะผั ะฟัะพัะพะถะดะตะฝะธั.

## ะะพะทะผะพะถะฝะพััะธ

### ะะปั ััะฐััะฝะธะบะพะฒ
- ะะธะฝะตะนะฝะพะต ะฟัะพัะพะถะดะตะฝะธะต ะบะฒะตััะฐ ั ะฐะฒัะพะผะฐัะธัะตัะบะธะผ ะฟะตัะตัะพะดะพะผ ะผะตะถะดั ัะฐะณะฐะผะธ
- ะขะตะบััะพะฒัะต ะทะฐะดะฐะฝะธั ั ะฐะฒัะพะฟัะพะฒะตัะบะพะน ะพัะฒะตัะพะฒ (case-insensitive)
- ะะฐะดะฐะฝะธั ั ะธะทะพะฑัะฐะถะตะฝะธัะผะธ
- ะัะฒะตัั ัะตะบััะพะผ ะธะปะธ ัะพัะพะณัะฐัะธัะผะธ
- ะกะพััะฐะฝะตะฝะธะต ะฟัะพะณัะตััะฐ โ ะผะพะถะฝะพ ะฟัะพะดะพะปะถะธัั ั ัะพะณะพ ะถะต ะผะตััะฐ ะฟะพัะปะต ะฟะตัะตะทะฐะฟััะบะฐ ะฑะพัะฐ
- ะกัะฐัะธััะธะบะฐ: ะฟัะพัะตะฝั ััะฐััะฝะธะบะพะฒ, ะดะพัะตะดัะธั ะดะพ ัะตะบััะตะณะพ ัะฐะณะฐ

### ะะปั ะฐะดะผะธะฝะธัััะฐัะพัะฐ
- Telegram-ะธะฝัะตััะตะนั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะบะฒะตััะพะผ (`/admin`)
- **ะฃะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ ะบะฒะตััะฐ** โ ะทะฐะฟััะบ, ะฟะฐัะทะฐ, ะทะฐะฒะตััะตะฝะธะต ะบะฒะตััะฐ ั ัะฒะตะดะพะผะปะตะฝะธัะผะธ ััะฐััะฝะธะบะพะฒ
- ะะพะฑะฐะฒะปะตะฝะธะต, ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะธ ัะดะฐะปะตะฝะธะต ัะฐะณะพะฒ
- ะะฐัััะพะนะบะฐ ะฒะฐัะธะฐะฝัะพะฒ ะฟัะฐะฒะธะปัะฝัั ะพัะฒะตัะพะฒ ะดะปั ะฐะฒัะพะฟัะพะฒะตัะบะธ
- ะััะฝะฐั ะฟัะพะฒะตัะบะฐ ะพัะฒะตัะพะฒ-ะธะทะพะฑัะฐะถะตะฝะธะน ั inline-ะบะฝะพะฟะบะฐะผะธ
- Soft-disable ัะฐะณะพะฒ (ะฒัะตะผะตะฝะฝะพะต ะพัะบะปััะตะฝะธะต ะฑะตะท ัะดะฐะปะตะฝะธั)
- ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัะธััะตะผะฝัั ัะพะพะฑัะตะฝะธะน (ะฟัะธะฒะตัััะฒะธะต, ัะธะฝะฐะป, ะฟัะฐะฒะธะปัะฝัะน/ะฝะตะฟัะฐะฒะธะปัะฝัะน ะพัะฒะตั)
- ะะฒัะพะพะฑะฝะพะฒะปัะตะผะฐั ััะฐัะธััะธะบะฐ ะฟัะพัะพะถะดะตะฝะธั
- **ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ ััะฐััะฝะธะบะพะฒ** โ ะฒัะตะผั ะฟัะพัะพะถะดะตะฝะธั, ัะพัะฝะพััั ะพัะฒะตัะพะฒ, ัะตะนัะธะฝะณ
- ะฃะฒะตะดะพะผะปะตะฝะธั ะพ ะทะฐะฒะตััะตะฝะธะธ ะบะฒะตััะฐ ััะฐััะฝะธะบะฐะผะธ
- ะฃะฒะตะดะพะผะปะตะฝะธั ะพะฑ ะพัะธะฑะบะฐั ั ะฟะพะปะฝัะผ ััะตะบััะตะนัะพะผ

## ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ
โ   Telegram  โโโโโโถโ     Bot     โโโโโโถโ   State     โ
โ     API     โโโโโโโ   Handler   โโโโโโโ  Resolver   โ
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ
                           โ                   โ
                           โผ                   โผ
                    โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ
                    โ   Message   โ     โ   Answer    โ
                    โ   Manager   โ     โ   Checker   โ
                    โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ
                           โ                   โ
                           โโโโโโโโโโโฌโโโโโโโโโโ
                                     โผ
                           โโโโโโโโโโโโโโโโโโโ
                           โ    DB Queue     โ
                           โ (single-writer) โ
                           โโโโโโโโโโโโโโโโโโโ
                                     โ
                                     โผ
                           โโโโโโโโโโโโโโโโโโโ
                           โ     SQLite      โ
                           โโโโโโโโโโโโโโโโโโโ
```

### ะะปััะตะฒัะต ัะตัะตะฝะธั

- **SQLite ะบะฐะบ ะตะดะธะฝััะฒะตะฝะฝัะน ะธััะพัะฝะธะบ ะธััะธะฝั** โ ะฒัั ัะพััะพัะฝะธะต ััะฐะฝะธััั ะฒ ะะ, FSM ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐะตััั ะฝะฐ ะบะฐะถะดัะน update
- **Single-writer DB Queue** โ ะฒัะต ะพะฟะตัะฐัะธะธ ั ะะ ัะตัะตะท ะตะดะธะฝััะฒะตะฝะฝัะน goroutine ั retry (3 ะฟะพะฟััะบะธ)
- **Panic recovery** โ ะฒัะต ะพะฑัะฐะฑะพััะธะบะธ ะพะฑััะฝััั ะฒ recover ั ัะฒะตะดะพะผะปะตะฝะธะตะผ ะฐะดะผะธะฝะธัััะฐัะพัะฐ
- **Retry ะดะปั ัะพะพะฑัะตะฝะธะน** โ 2 ะฟะพะฟััะบะธ ะพัะฟัะฐะฒะบะธ ั ัะฒะตะดะพะผะปะตะฝะธะตะผ ะฐะดะผะธะฝะฐ ะฟัะธ ะฝะตัะดะฐัะต (ะฒะบะปััะฐั curl-ะบะพะผะฐะฝะดั ะดะปั ะพัะปะฐะดะบะธ)
- **Pure Go SQLite** โ ะธัะฟะพะปัะทัะตััั `modernc.org/sqlite` ะฑะตะท CGO, ััะพ ะฟะพะทะฒะพะปัะตั ัะพะฑะธัะฐัั ัะตัะตะท ko.build

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
โโโ cmd/bot/main.go           # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ internal/
โ   โโโ db/                   # ะะตะฟะพะทะธัะพัะธะธ ะธ ัะฐะฑะพัะฐ ั ะะ
โ   โ   โโโ queue.go          # Single-writer DB Queue
โ   โ   โโโ schema.go         # ะกัะตะผะฐ ะะ ะธ ะผะธะณัะฐัะธะธ
โ   โ   โโโ user_repository.go
โ   โ   โโโ step_repository.go
โ   โ   โโโ progress_repository.go
โ   โ   โโโ answer_repository.go
โ   โ   โโโ settings_repository.go
โ   โ   โโโ chat_state_repository.go
โ   โ   โโโ admin_state_repository.go
โ   โ   โโโ admin_messages_repository.go
โ   โโโ fsm/                  # FSM ัะพััะพัะฝะธั
โ   โ   โโโ states.go
โ   โโโ handlers/             # ะะฑัะฐะฑะพััะธะบะธ Telegram updates
โ   โ   โโโ handler.go        # ะัะฝะพะฒะฝะพะน ะพะฑัะฐะฑะพััะธะบ
โ   โ   โโโ admin_handler.go  # ะะดะผะธะฝ-ะธะฝัะตััะตะนั
โ   โโโ models/               # ะะพะดะตะปะธ ะดะฐะฝะฝัั
โ   โ   โโโ user.go
โ   โ   โโโ step.go
โ   โ   โโโ progress.go
โ   โ   โโโ answer.go
โ   โ   โโโ settings.go
โ   โ   โโโ chat_state.go
โ   โ   โโโ admin_state.go
โ   โ   โโโ types.go
โ   โโโ services/             # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ       โโโ state_resolver.go # ะะฟัะตะดะตะปะตะฝะธะต ัะตะบััะตะณะพ ัะพััะพัะฝะธั
โ       โโโ answer_checker.go # ะัะพะฒะตัะบะฐ ะพัะฒะตัะพะฒ
โ       โโโ message_manager.go# ะฃะฟัะฐะฒะปะตะฝะธะต ัะพะพะฑัะตะฝะธัะผะธ
โ       โโโ error_manager.go  # ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
โ       โโโ statistics.go     # ะกัะฐัะธััะธะบะฐ ะฟัะพัะพะถะดะตะฝะธั
โ       โโโ user_manager.go   # ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
โ       โโโ user_statistics.go# ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
โ       โโโ quest_state_manager.go # ะฃะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ ะบะฒะตััะฐ
โ       โโโ quest_state_middleware.go # Middleware ะดะปั ะฟัะพะฒะตัะบะธ ัะพััะพัะฝะธั
โ       โโโ formatter.go      # ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ัะพะพะฑัะตะฝะธะน
โโโ Dockerfile
โโโ docker-compose.yml
โโโ Makefile
โโโ .ko.yaml                  # ะะพะฝัะธะณััะฐัะธั ko.build
```

## ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### ะขัะตะฑะพะฒะฐะฝะธั
- Go 1.25+
- Docker ะธ Docker Compose (ะดะปั ะบะพะฝัะตะนะฝะตัะธะทะฐัะธะธ)
- Telegram Bot Token (ะฟะพะปััะธัั ั [@BotFather](https://t.me/BotFather))

### ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ

```bash
# ะะปะพะฝะธัะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/ad/go-telegram-quest.git
cd go-telegram-quest

# ะกะพะทะดะฐัั .env ัะฐะนะป
cp .env.example .env
# ะััะตะดะฐะบัะธัะพะฒะฐัั .env, ัะบะฐะทะฐะฒ BOT_TOKEN ะธ ADMIN_ID

# ะะฐะฟัััะธัั
go run ./cmd/bot
```

### Docker

```bash
# ะกะพะทะดะฐัั .env ัะฐะนะป
cp .env.example .env
# ะััะตะดะฐะบัะธัะพะฒะฐัั .env

# ะกะพะฑัะฐัั ะธ ะทะฐะฟัััะธัั
docker compose up -d

# ะะพัะผะพััะตัั ะปะพะณะธ
docker compose logs -f

# ะััะฐะฝะพะฒะธัั
docker compose down
```

### Makefile ะบะพะผะฐะฝะดั

```bash
make build      # ะกะพะฑัะฐัั Docker ะพะฑัะฐะท
make up         # ะะฐะฟัััะธัั ัะตัะตะท docker compose
make down       # ะััะฐะฝะพะฒะธัั
make run        # ะะฐะฟัััะธัั ะปะพะบะฐะปัะฝะพ (go run)
make test       # ะะฐะฟัััะธัั ัะตััั
make build-ko   # ะกะพะฑัะฐัั ัะตัะตะท ko (ะปะพะบะฐะปัะฝะพ)
make push       # ะกะพะฑัะฐัั ะธ ะทะฐะฟััะธัั ัะตัะตะท ko
make clean      # ะฃะดะฐะปะธัั ะปะพะบะฐะปัะฝัั ะะ
```

## ะะพะฝัะธะณััะฐัะธั

ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `BOT_TOKEN` | ะขะพะบะตะฝ Telegram ะฑะพัะฐ | ะพะฑัะทะฐัะตะปัะฝะพ |
| `ADMIN_ID` | Telegram ID ะฐะดะผะธะฝะธัััะฐัะพัะฐ | ะพะฑัะทะฐัะตะปัะฝะพ |
| `DB_PATH` | ะััั ะบ ัะฐะนะปั SQLite | `quest.db` |

## ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะพะผะฐะฝะดั ะดะปั ััะฐััะฝะธะบะพะฒ
- `/start` โ ะฝะฐัะฐัั ะบะฒะตัั ะธะปะธ ะฟัะพะดะพะปะถะธัั ั ัะตะบััะตะณะพ ัะฐะณะฐ

### ะะพะผะฐะฝะดั ะดะปั ะฐะดะผะธะฝะธัััะฐัะพัะฐ
- `/admin` โ ะพัะบัััั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั
- `/cancel` โ ะพัะผะตะฝะธัั ัะตะบัััั ะพะฟะตัะฐัะธั

### ะะดะผะธะฝ-ะฟะฐะฝะตะปั
- **ะะพะฑะฐะฒะธัั ัะฐะณ** โ ัะพะทะดะฐะฝะธะต ะฝะพะฒะพะณะพ ัะฐะณะฐ ั ัะตะบััะพะผ, ัะธะฟะพะผ ะพัะฒะตัะฐ (ัะตะบัั/ัะพัะพ), ะธะทะพะฑัะฐะถะตะฝะธัะผะธ ะธ ะฒะฐัะธะฐะฝัะฐะผะธ ะพัะฒะตัะพะฒ
- **ะกะฟะธัะพะบ ัะฐะณะพะฒ** โ ะฟัะพัะผะพัั ะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัััะตััะฒัััะธั ัะฐะณะพะฒ
- **ะฃัะฐััะฝะธะบะธ** โ ะฟัะพัะผะพัั ัะฟะธัะบะฐ ััะฐััะฝะธะบะพะฒ ั ะดะตัะฐะปัะฝะพะน ััะฐัะธััะธะบะพะน ะบะฐะถะดะพะณะพ
- **ะะฐัััะพะนะบะธ** โ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัะธััะตะผะฝัั ัะพะพะฑัะตะฝะธะน ะธ ัะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ ะบะฒะตััะฐ

#### ะฃะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ ะบะฒะตััะฐ
ะะดะผะธะฝะธัััะฐัะพั ะผะพะถะตั ัะฟัะฐะฒะปััั ะณะปะพะฑะฐะปัะฝัะผ ัะพััะพัะฝะธะตะผ ะบะฒะตััะฐ:
- **๐ซ ะะต ะฝะฐัะฐั** โ ะบะฒะตัั ะตัั ะฝะต ะทะฐะฟััะตะฝ, ััะฐััะฝะธะบะธ ะฟะพะปััะฐัั ัะฒะตะดะพะผะปะตะฝะธะต ะพะฑ ะพะถะธะดะฐะฝะธะธ
- **โถ๏ธ ะะฐะฟััะตะฝ** โ ะบะฒะตัั ะฐะบัะธะฒะตะฝ, ััะฐััะฝะธะบะธ ะผะพะณัั ะฟัะพัะพะดะธัั ะทะฐะดะฐะฝะธั
- **โธ๏ธ ะะฐ ะฟะฐัะทะต** โ ะบะฒะตัั ะฒัะตะผะตะฝะฝะพ ะฟัะธะพััะฐะฝะพะฒะปะตะฝ, ะฟัะพะณัะตัั ััะฐััะฝะธะบะพะฒ ัะพััะฐะฝัะตััั
- **โ ะะฐะฒะตัััะฝ** โ ะบะฒะตัั ะทะฐะฒะตัััะฝ, ััะฐััะฝะธะบะธ ะฒะธะดัั ัะธะฝะฐะปัะฝัั ััะฐัะธััะธะบั

ะะดะผะธะฝะธัััะฐัะพัั ะธะผะตัั ะฟะพะปะฝัะน ะดะพัััะฟ ะบ ััะฝะบัะธัะผ ะบะฒะตััะฐ ะฝะตะทะฐะฒะธัะธะผะพ ะพั ะตะณะพ ัะพััะพัะฝะธั.

#### ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ ััะฐััะฝะธะบะพะฒ
ะัะธ ะฟัะพัะผะพััะต ะดะตัะฐะปะตะน ััะฐััะฝะธะบะฐ ะฐะดะผะธะฝะธัััะฐัะพั ะฒะธะดะธั:
- **โฑ๏ธ ะัะตะผั**: ะฟะตัะฒัะน ะธ ะฟะพัะปะตะดะฝะธะน ะพัะฒะตั, ะพะฑัะตะต ะฒัะตะผั ะฟัะพัะพะถะดะตะฝะธั
- **๐ฏ ะขะพัะฝะพััั**: ะบะพะปะธัะตััะฒะพ ะพัะฒะตัะพะฒ, ะฟัะพะนะดะตะฝะฝัั ัะฐะณะพะฒ, ะฟัะพัะตะฝั ัะพัะฝะพััะธ
- **โก ะขะตะผะฟ**: ััะตะดะฝะตะต ะฒัะตะผั ะผะตะถะดั ะพัะฒะตัะฐะผะธ, ะฒัะตะผั ะฝะฐ ัะตะบััะตะผ ัะฐะณะต
- **โ ะัะธะฑะบะธ**: ะบะพะปะธัะตััะฒะพ ะฟะพะฟััะพะบ ะฝะฐ ะบะฐะถะดะพะผ ัะฐะณะต ั ะพัะธะฑะบะฐะผะธ
- **๐ ะะตะนัะธะฝะณ**: ะฟะพะทะธัะธั ะฒ ะพะฑัะตะผ ัะตะนัะธะฝะณะต ั ะผะตะดะฐะปัะผะธ ะดะปั ัะพะฟ-3
- **๐ ะฃัะฐััะธะต**: ะดะฐัะฐ ัะตะณะธัััะฐัะธะธ, ะฒัะตะผั ะฒ ะบะฒะตััะต, ััะฐััั ะทะฐะฒะตััะตะฝะธั

### ะขะธะฟั ัะฐะณะพะฒ
1. **ะขะตะบััะพะฒัะน ั ะฐะฒัะพะฟัะพะฒะตัะบะพะน** โ ะฑะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะพะฒะตััะตั ะพัะฒะตั ะฟะพ ัะฟะธัะบั ะฒะฐัะธะฐะฝัะพะฒ (case-insensitive)
2. **ะขะตะบััะพะฒัะน ั ัััะฝะพะน ะฟัะพะฒะตัะบะพะน** โ ะพัะฒะตั ะพัะฟัะฐะฒะปัะตััั ะฐะดะผะธะฝั ะดะปั ะฟัะพะฒะตัะบะธ
3. **ะคะพัะพ** โ ััะฐััะฝะธะบ ะพัะฟัะฐะฒะปัะตั ัะพัะพ, ะฐะดะผะธะฝ ะฟัะพะฒะตััะตั ะฒัััะฝัั

## ะัะธะผะตั ััะฐัะธััะธะบะธ ััะฐััะฝะธะบะฐ

```
๐ค ะะฝัะพัะผะฐัะธั ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต

๐ ะะผั: ะะฒะฐะฝ ะะตััะพะฒ
๐ Username: @ivan_petrov
๐ ID: 123456789

๐ ะัะพะณัะตัั: ะจะฐะณ 8
๐ ะกัะฐััั: โ ะะดะพะฑัะตะฝ

๐ ะกัะฐัะธััะธะบะฐ ะฟัะพัะพะถะดะตะฝะธั:

โฑ๏ธ ะัะตะผั:
โข ะะตัะฒัะน ะพัะฒะตั: 15 ัะฝะฒ 2026, 10:30
โข ะะพัะปะตะดะฝะธะน ะพัะฒะตั: 17 ัะฝะฒ 2026, 14:45
โข ะะฑัะตะต ะฒัะตะผั: 2ะด 4ั 15ะผ

๐ฏ ะขะพัะฝะพััั:
โข ะัะตะณะพ ะพัะฒะตัะพะฒ: 15
โข ะัะพะนะดะตะฝะพ ัะฐะณะพะฒ: 8
โข ะขะพัะฝะพััั: 53%

โก ะขะตะผะฟ:
โข ะกัะตะดะฝะตะต ะฒัะตะผั ะพัะฒะตัะฐ: 3ั 45ะผ
โข ะะฐ ัะตะบััะตะผ ัะฐะณะต: 2ั 10ะผ

โ ะัะธะฑะบะธ ะฟะพ ัะฐะณะฐะผ:
โข ะจะฐะณ 3: 4 ะฟะพะฟััะบะธ
โข ะจะฐะณ 5: 2 ะฟะพะฟััะบะธ

๐ ะะตะนัะธะฝะณ:
โข ะะตััะพ: ๐ฅ 2 ะธะท 45

๐ ะฃัะฐััะธะต:
โข ะะตะณะธัััะฐัะธั: 14 ัะฝะฒ 2026
โข ะ ะบะฒะตััะต: 3 ะดะฝั

โ ะกัะฐััั: ะะบัะธะฒะตะฝ
```

## ะะฐะทะฐ ะดะฐะฝะฝัั

SQLite ั WAL ัะตะถะธะผะพะผ ะดะปั ะปัััะตะน ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ. ะกัะตะผะฐ ัะพะทะดะฐัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต.

### ะขะฐะฑะปะธัั
- `users` โ ััะฐััะฝะธะบะธ ะบะฒะตััะฐ
- `steps` โ ัะฐะณะธ ะบะฒะตััะฐ
- `step_images` โ ะธะทะพะฑัะฐะถะตะฝะธั ัะฐะณะพะฒ
- `step_answers` โ ะฒะฐัะธะฐะฝัั ะฟัะฐะฒะธะปัะฝัั ะพัะฒะตัะพะฒ (lowercase)
- `user_progress` โ ะฟัะพะณัะตัั ััะฐััะฝะธะบะพะฒ
- `user_answers` โ ะพัะฒะตัั ััะฐััะฝะธะบะพะฒ
- `answer_images` โ ะธะทะพะฑัะฐะถะตะฝะธั ะฒ ะพัะฒะตัะฐั
- `user_chat_state` โ ัะพััะพัะฝะธะต ัะฐัะฐ (ID ะฟะพัะปะตะดะฝะธั ัะพะพะฑัะตะฝะธะน)
- `admin_state` โ ัะพััะพัะฝะธะต ะฐะดะผะธะฝ-ะธะฝัะตััะตะนัะฐ
- `admin_messages` โ ัะปัะถะตะฑะฝัะต ัะพะพะฑัะตะฝะธั (ััะฐัะธััะธะบะฐ)
- `settings` โ ะฝะฐัััะพะนะบะธ ะฑะพัะฐ ะธ ัะพััะพัะฝะธะต ะบะฒะตััะฐ

## ะขะตััะธัะพะฒะฐะฝะธะต

ะัะพะตะบั ะธัะฟะพะปัะทัะตั property-based ัะตััะธัะพะฒะฐะฝะธะต ั ะฑะธะฑะปะธะพัะตะบะพะน [rapid](https://github.com/flyingmutant/rapid).

ะัะพะฑะพะต ะฒะฝะธะผะฐะฝะธะต ัะดะตะปะตะฝะพ ัะตััะธัะพะฒะฐะฝะธั ะบะพััะตะบัะฝะพััะธ ะฒััะธัะปะตะฝะธั ััะฐัะธััะธะบะธ:
- ะัะพะฒะตัะบะฐ ะณัะฐะฝะธั ะฒัะตะผะตะฝะธ ะพัะฒะตัะพะฒ
- ะะพััะตะบัะฝะพััั ะฒััะธัะปะตะฝะธั ะฒัะตะผะตะฝะธ ะฟัะพัะพะถะดะตะฝะธั
- ะขะพัะฝะพััั ัะฐััััะฐ ะฟัะพัะตะฝัะพะฒ ะธ ััะตะดะฝะธั ะทะฝะฐัะตะฝะธะน
- ะัะฐะฒะธะปัะฝะพััั ะฟะพะทะธัะธะพะฝะธัะพะฒะฐะฝะธั ะฒ ัะตะนัะธะฝะณะต

```bash
# ะะฐะฟัััะธัั ะฒัะต ัะตััั
make test

# ะะฐะฟัััะธัั ั verbose
go test -v ./...

# ะะฐะฟัััะธัั ัะพะปัะบะพ property-based ัะตััั
go test -v ./internal/services -run "Property"
```

## CI/CD ั ko.build

ะะปั production-ัะฑะพัะบะธ ะธัะฟะพะปัะทัะตััั [ko](https://ko.build/) โ ะธะฝััััะผะตะฝั ะดะปั ัะฑะพัะบะธ Go-ะฟัะธะปะพะถะตะฝะธะน ะฒ OCI-ะพะฑัะฐะทั ะฑะตะท Dockerfile.

```bash
# ะฃััะฐะฝะพะฒะธัั ko
go install github.com/google/ko@latest

# ะกะพะฑัะฐัั ะปะพะบะฐะปัะฝะพ
ko build --local ./cmd/bot

# ะกะพะฑัะฐัั ะธ ะทะฐะฟััะธัั ะฒ registry
export KO_DOCKER_REPO=ghcr.io/your-username
ko build ./cmd/bot
```

## ะะธัะตะฝะทะธั

MIT
